(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-confirmorder4points-confirmorder4points"],{"0ab0":function(e,t,a){"use strict";a.r(t);var i=a("e14d"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"0f93":function(e,t,a){"use strict";var i=a("16d2"),n=a.n(i);n.a},"16d2":function(e,t,a){var i=a("1a32");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("e2d57f3c",i,!0,{sourceMap:!1,shadowMode:!1})},"193c":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".order-remark[data-v-79a1fbe2]{width:95%;margin:0 auto 10rem;border:2px solid #e5e5e5;border-radius:5px;padding:2px 0 0 8px}.uni-list-cell[data-v-79a1fbe2]{display:flex;border-bottom:1px solid #e4e4e4;padding-bottom:5px;padding-top:15px;align-items:center}.area-item[data-v-79a1fbe2]{color:#5d5d5d;display:flex;align-items:center;margin:0 auto .2rem}.area-img[data-v-79a1fbe2]{width:100%;height:100%;border-radius:5px}.payinfo-area[data-v-79a1fbe2]{width:300px;margin:1rem auto 0;height:300px;border-radius:5px}.tabs[data-v-79a1fbe2]{background-color:#fff;text-align:center;display:flex;width:100%;justify-content:space-around;padding-bottom:10px;padding-top:10px}.tabs-item-active[data-v-79a1fbe2]{width:50px;padding-bottom:5px;border-bottom:2px solid #e44e14}.tabs-item[data-v-79a1fbe2]{width:50px;padding-bottom:5px}.pay-wrap[data-v-79a1fbe2]{background-color:#fff;border-radius:5px 5px 0 0;padding-bottom:20px}.discount-info[data-v-79a1fbe2]{display:flex;align-items:center;justify-content:space-between;padding:10px 5px 5px 10px;border-bottom:1px solid #efefef}.pay-info[data-v-79a1fbe2]{border-bottom:1px solid #efefef;padding-bottom:15px;padding-right:15px;display:flex;justify-content:space-between}.keyword-area-item[data-v-79a1fbe2]:active{cursor:pointer;box-sizing:border-box;float:left;width:33.33%;height:25%;font-size:22px;text-align:center;line-height:7.5vh;border:1px solid #f4f4f4;background-color:#e9e9e9}.keyword-area-item[data-v-79a1fbe2]{box-sizing:border-box;float:left;width:33.33%;height:25%;font-size:22px;text-align:center;line-height:7.5vh;border:1px solid #e9e9e9}.keyword-area[data-v-79a1fbe2]{background-color:#f7f7f7;position:absolute;bottom:0;width:100%;display:flex;justify-content:space-between;flex-wrap:wrap}.pw-area-item[data-v-79a1fbe2]{background-color:#f7f7f7;width:16%;height:45px;border-radius:5px;display:flex;align-items:center;justify-content:center}.pw-area[data-v-79a1fbe2]{width:86%;height:45px;margin:1rem auto 0;display:flex;justify-content:space-between}.pw-wrap-title[data-v-79a1fbe2]{background-color:#f7f7f7;border-radius:10px 10px 0 0;height:45px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px}.pw-wrap[data-v-79a1fbe2]{height:400px;background-color:#fff;border-radius:10px 10px 0 0;position:relative}.bottom-btn[data-v-79a1fbe2]{width:30%;background-color:#e44e14;color:#fff;height:30px;line-height:30px;text-align:center;margin-right:20px;border-radius:15px}.order-info[data-v-79a1fbe2]{width:70%;padding-left:20px}.order-bottom[data-v-79a1fbe2]{width:100%;background-color:#fff;position:fixed;bottom:0;height:80px;display:flex;align-items:center;justify-content:space-between}.upload-note[data-v-79a1fbe2]{font-size:12px;color:#969799;padding-top:10px}.img-upload[data-v-79a1fbe2]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;line-height:8px;background-color:#f7f8fa;border-radius:5px;position:relative}.vedio-left[data-v-79a1fbe2]{width:30%;display:flex;justify-content:space-between;flex-wrap:wrap}.vedio-content[data-v-79a1fbe2]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-around;padding-bottom:10px}.note-detail[data-v-79a1fbe2]{padding:2px;margin-left:5px}.right-note[data-v-79a1fbe2]{font-size:10px;color:#9b9b9b;text-align:left;padding-bottom:10px}.right-title[data-v-79a1fbe2]{font-size:12px;color:#fb0345;font-weight:600;padding-top:5px}.vedio-right[data-v-79a1fbe2]{width:65%;background-color:#ffeaef;border-radius:5px;text-align:center}.buynum[data-v-79a1fbe2]{color:#a7a7a7;font-size:18px;position:absolute;bottom:0;right:0}.title1[data-v-79a1fbe2]{font-size:%?30?%;font-weight:600;overflow:hidden;text-overflow:ellipsis;\n\t/* 超出部分省略号 */word-break:break-all;\n\t/* break-all(允许在单词内换行。) */display:-webkit-box;\n\t/* 对象作为伸缩盒子模型显示 */-webkit-box-orient:vertical;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-line-clamp:3}.goods-taocan-item-price[data-v-79a1fbe2]{color:red;font-weight:900;font-size:18px;position:absolute;bottom:0;left:0}.goods-youlike-right[data-v-79a1fbe2]{width:15%;display:flex;position:relative}.goods-youlike-center[data-v-79a1fbe2]{padding:0 0 0 10px;width:55%;position:relative}.left-img[data-v-79a1fbe2]{width:85px;height:85px;display:block;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.goods-taocan-item[data-v-79a1fbe2]{padding:10px;display:flex;justify-content:space-between}.goods-taocan3[data-v-79a1fbe2]{width:96%;margin:.5rem auto 0;background-color:#fff;border-radius:5px}.goods-taocan2[data-v-79a1fbe2]{width:96%;margin:.5rem auto 0;background-color:#fff;border-radius:5px}.goods-taocan[data-v-79a1fbe2]{width:96%;margin:.5rem auto 0;background-color:#fff;border-radius:5px;padding-bottom:10px}.address-left-address[data-v-79a1fbe2]{font-size:14px;padding-top:10px;overflow:hidden;text-overflow:ellipsis;\n\t/* 超出部分省略号 */word-break:break-all;\n\t/* break-all(允许在单词内换行。) */display:-webkit-box;\n\t/* 对象作为伸缩盒子模型显示 */-webkit-box-orient:vertical;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-line-clamp:2}.address-left-userinfo[data-v-79a1fbe2]{color:#000}.address-right[data-v-79a1fbe2]{width:10%}.address-left[data-v-79a1fbe2]{width:75%;font-size:16px;color:#b0b0b0;padding-left:20px}.address[data-v-79a1fbe2]{width:96%;margin:.5rem auto .5rem;background-color:#fff;border-radius:5px;display:flex;justify-content:space-between;align-items:center;padding:20px 0 20px 0}",""]),e.exports=t},"1a32":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".img-upload[data-v-1fd6b89e]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;line-height:8px;background-color:#f7f8fa;border-radius:5px;position:relative}.upload-note[data-v-1fd6b89e]{font-size:12px;color:#969799;padding-top:10px}",""]),e.exports=t},"37fb":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("c7eb")),o=i(a("1da1")),s=a("1bcc"),r={name:"uploadImg",data:function(){return{imgShowUrl:"",saveDbUrl:""}},methods:{clearphoto:function(){this.imgShowUrl=this.saveDbUrl="",this.$emit("getImgUrl",this.saveDbUrl)},afterRead:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.uploadBase64)({method:"POST",query:{base64_image_content:e.file}});case 2:a=t.sent,"200"==a.code?(e.imgShowUrl=a.data.imgShowUrl,e.saveDbUrl=a.data.saveDbUrl,e.$emit("getImgUrl",e.saveDbUrl)):Toast(a.msg);case 4:case"end":return t.stop()}}),t)})))()},cameraTakePicture:function(){navigator.camera.getPicture(this.onSuccess,this.onFail,{quality:50,destinationType:Camera.DestinationType.DATA_URL,encodingType:Camera.EncodingType.JPEG,sourceType:0})},onFail:function(e){},onSuccess:function(e){this.file="data:image/jpeg;base64,"+e,this.afterRead()}}};t.default=r},"3ee3":function(e,t,a){var i=a("193c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("7848ce0c",i,!0,{sourceMap:!1,shadowMode:!1})},"499d":function(e,t,a){"use strict";a.r(t);var i=a("6844"),n=a("0ab0");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("f31d");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"79a1fbe2",null,!1,i["a"],void 0);t["default"]=r.exports},5144:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAwxJREFUeF7tmz1O3FAYRe+sIbRJkTUAYQeU0IUtgJBSJMuAAgmFLUBHSnbA3xoooA1rSPSksYRQAjNmbDHfObT4R+e+4+vnZ88k/qETmKDphY8CwCVQAAWAJwDHtwEUAJ4AHN8GUAB4AnB8G0AB4AnA8W0ABYAnAMe3ARQAngAc3wZQAHgCcHwbQAHgCcDxbQAFgCcAx7cBFACeABzfBlAAeAJwfBtAAeAJwPFtAAWAJwDHtwEUAJ4AHN8GUAB4AnB8G0AB4AnA8W0ABYAnAMe3ARQAngAc3wZQAHgCcHwbQAHgCcDxbQAFgCcAx7cBFACeABzfBlAAeAJwfBtAAVAJbCXZTLKa5HOSD1P6xyR3SW6TXCT5RUmF0gDfk3xL8nHGgX1IcpTkcMbtl3az6gJ8SXI8veL7DFJrhP0kV312XoZ9KgvwNcnpggZhJ8nZgo71rg5TVYBFDn43YCUlqChAq/3LgS6zjWq3g4oC3Lzhnv+aN21OsPbaRsv0/2oCtNn+wcAD8KPS00E1Ae7neNTr60l7RPzUd+f3tl8lAdoiz/lIAW9XWSyqJMDPJLsjCXCSZG+kcw16mkoCXI84QWsTzfVBR2akg1cS4PeTtf2h42vvDlaGPskYx68kwJ8xAntyjhLZlYCYDooC9LgCKgngLQAugJNAuAA+BsIFcCEILkDDdyl4TgkqTQIbui+D4AI0fF8HzyFBtQZo6H4QAheg4ftJ2IwSVGyADn2REpT8HrAFVVmA7nbgZ+EvtEF1ATp0fxjyHwkoAnT4/jTsmQg0AWacGnE2UwDOWP+TVAEUAJ4AHN8GUAB4AnB8G0AB4AnA8W0ABYAnAMe3ARQAngAc3wZQAHgCcHwbQAHgCcDxbQAFgCcAx7cBFACeABzfBlAAeAJwfBtAAeAJwPFtAAWAJwDHtwEUAJ4AHN8GUAB4AnB8G0AB4AnA8W0ABYAnAMe3ARQAngAc3wZQAHgCcHwbQAHgCcDxbQAFgCcAx7cBFACeABzfBlAAeAJwfBtAAeAJwPFtAAWAJwDH/wttrkCBBlj3xgAAAABJRU5ErkJggg=="},"56dd":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcons:a("b4a7").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"img-upload"},[e.imgShowUrl?e._e():a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cameraTakePicture.apply(void 0,arguments)}}},[a("v-uni-view",{staticStyle:{"text-align":"center"}},[a("uni-icons",{attrs:{type:"images",size:"35",color:"#DCDEE0"}}),a("v-uni-view",{staticClass:"upload-note"},[e._v("上传凭证")])],1)],1),e.imgShowUrl?a("v-uni-view",{staticClass:"img-upload"},[a("v-uni-image",{staticStyle:{width:"100%",height:"100%","border-radius":"5px"},attrs:{src:e.imgShowUrl}}),a("v-uni-view",{staticStyle:{position:"absolute",top:"10%",right:"0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearphoto.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:"closeempty",color:"#ff0000",size:"30"}})],1)],1):e._e()],1)},o=[]},6844:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniNavBar:a("ca70").default,uniIcons:a("b4a7").default,uniEasyinput:a("9d46").default,uniPopup:a("c2ba").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("uni-nav-bar",{attrs:{dark:!0,fixed:!0,"background-color":"#fff",color:"#000",title:"确认订单","left-icon":"left",rightText:"","status-bar":!0},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"address",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addressclick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"address-left"},[e.addressInfo?e._e():i("v-uni-view",[e._v("请先添加收货地址")]),e.addressInfo?i("v-uni-view",[i("v-uni-view",{staticClass:"address-left-userinfo"},[i("v-uni-text",[e._v(e._s(e.addressInfo.name))]),i("v-uni-text",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(e.addressInfo.phone))])],1),i("v-uni-view",{staticClass:"address-left-address"},[e._v(e._s(e.addressInfo.address)+e._s(e.addressInfo.details))])],1):e._e()],1),i("v-uni-view",{staticClass:"address-right"},[i("uni-icons",{attrs:{type:"forward",color:"#b0b0b0",size:"26"}})],1)],1),i("v-uni-view",{staticClass:"goods-taocan"},[i("v-uni-view",{staticClass:"goods-taocan-item",staticStyle:{"border-bottom":"1px solid #efefef"}},[i("v-uni-view",{staticClass:"goods-taocan-item-left"},[i("v-uni-image",{staticClass:"left-img",attrs:{mode:"aspectFill",src:e.orderInfo.goods_img[0]}})],1),i("v-uni-view",{staticClass:"goods-youlike-center"},[i("v-uni-view",{staticClass:"title1"},[e._v(e._s(e.orderInfo.goods_name))]),i("v-uni-view",{staticClass:"goods-taocan-item-price"},[e._v("￥"+e._s(e.orderInfo.price))])],1),i("v-uni-view",{staticClass:"goods-youlike-right"},[i("v-uni-view",{staticClass:"buynum"},[e._v("x"+e._s(e.orderInfo.buynum))])],1)],1),3==e.orderInfo.mode&&e.discount>=0?i("v-uni-view",{staticClass:"discount-info"},[i("v-uni-view",{staticStyle:{"font-size":"14px",color:"rgb(0, 0, 0)"}},[e._v("本次购物可使用余额抵扣"),i("v-uni-text",{staticStyle:{color:"rgb(255, 0, 0)"}},[e._v("￥"+e._s(e.discount))])],1),i("v-uni-view",[i("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:e.userdis,color:"#E44E14"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1)],1):e._e()],1),i("v-uni-view",{staticClass:"goods-taocan"},[i("v-uni-view",{staticStyle:{"font-size":"14px",color:"rgb(0, 0, 0)",padding:"10px","font-weight":"600"}},[e._v("其他信息")]),i("v-uni-view",{staticClass:"order-remark"},[i("uni-easyinput",{attrs:{type:"textarea",placeholder:"请输入订单备注(选填)",styles:e.styles,inputBorder:!1},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),i("v-uni-view",{staticClass:"order-bottom"},[i("v-uni-view",{staticClass:"order-info"},[i("v-uni-text",{staticStyle:{color:"#999999","font-size":"13px"}},[e._v("共"+e._s(e.orderInfo.buynum)+"件")]),i("v-uni-text",{staticStyle:{"padding-left":"15px","font-weight":"700"}},[e._v("合计:")]),i("v-uni-text",{staticStyle:{color:"#fb0345"}},[e._v("￥"+e._s(e.totalmoney))])],1),i("v-uni-view",{staticClass:"bottom-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitorder.apply(void 0,arguments)}}},[e._v("提交订单")])],1),i("uni-popup",{ref:"popup4payinfo",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"pay-wrap"},[i("v-uni-view",{staticClass:"pw-wrap-title"},[e._v("支付信息")]),i("v-uni-view",[i("v-uni-view",{staticClass:"tabs"},e._l(e.tabs,(function(t,a){return i("v-uni-view",{class:a==e.activetab?"tabs-item-active":"tabs-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tabclick(a)}}},[e._v(e._s(t.name))])})),1),2!=e.activetab?i("v-uni-view",{staticClass:"payinfo-area"},[i("v-uni-image",{staticClass:"area-img",attrs:{src:e.paycode}})],1):e._e(),2==e.activetab?i("v-uni-view",{staticClass:"payinfo-area"},[i("v-uni-view",[i("v-uni-view",{staticClass:"area-item"},[i("v-uni-view",{staticStyle:{width:"20%"}},[e._v("开户行：")]),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"60%"}},[i("v-uni-text",[e._v(e._s(e.paycodeInf.bank))]),i("v-uni-image",{staticStyle:{height:"18px",width:"18px","padding-left":"10px"},attrs:{src:a("b4f6")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyInf(e.paycodeInf.bank)}}})],1)],1),i("v-uni-view",{staticClass:"area-item"},[i("v-uni-view",{staticStyle:{width:"20%"}},[e._v("户名：")]),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"60%"}},[i("v-uni-text",[e._v(e._s(e.paycodeInf.name))]),i("v-uni-image",{staticStyle:{height:"18px",width:"18px","padding-left":"10px"},attrs:{src:a("b4f6")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyInf(e.paycodeInf.name)}}})],1)],1),i("v-uni-view",{staticClass:"area-item"},[i("v-uni-view",{staticStyle:{width:"20%"}},[e._v("卡号：")]),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center",width:"60%"}},[i("v-uni-text",[e._v(e._s(e.paycodeInf.cardno))]),i("v-uni-image",{staticStyle:{height:"18px",width:"18px","padding-left":"10px"},attrs:{src:a("b4f6")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.copyInf(e.paycodeInf.cardno)}}})],1)],1)],1)],1):e._e()],1)],1)],1),i("uni-popup",{ref:"popup4pw",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"pw-wrap"},[i("v-uni-view",{staticClass:"pw-wrap-title"},[e._v("请输入交易密码")]),i("v-uni-view",{staticClass:"pay-tool-content"},[i("v-uni-view",{staticClass:"pw-area"},e._l(e.items,(function(t){return i("v-uni-view",{staticClass:"pw-area-item"},[e.password[t]?i("v-uni-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:a("5144")}}):e._e()],1)})),1)],1),i("v-uni-view",{staticClass:"keyword-area"},e._l(e.keys,(function(t){return i("v-uni-view",{staticClass:"keyword-area-item"},["delete"==t?i("v-uni-view",{staticStyle:{"font-size":"18px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delHandle.apply(void 0,arguments)}}},[e._v("删除")]):e._e(),"delete"!=t?i("v-uni-view",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.keyUpHandle(t)}}},[e._v(e._s(t))]):e._e()],1)})),1)],1)],1)],1)},o=[]},b4f6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARtJREFUWEftlzESwUAUhr9cQ0WjoNa7hBqNI2hxDBq0TqGmpnYT5pms2XmJZDN5EUx2Zrvd9395+2fzJ6LmEdWsTwjADFgbga6AYzyfJUMARsDBCEDK7ICpqxcCYKXdAy5xsZfuJwFE+54HMARkLoweW595LsAWmBiJuzL+mecCuAV94FoSJO3MgwGsvKEFfxNAfNEOPI4zMPfWmnTgBAwCAW5AxxqgC7QKAAiEGyYdCNROXfYfAI0JGxPW/hZkmVDffBrW5DXMugn1zVcJQJYJBcC/+SoBsPSAJGwZm3ehNPG9LqOelgF1PR08vgagqkiWaKjuwNIwETsxScZSN3VoAInkY8NkLIl47/+K5XmgpOeKb7dKv8WV4x0PYelgISGWNX8AAAAASUVORK5CYII="},c1fe:function(e,t,a){"use strict";a.r(t);var i=a("37fb"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},e14d:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");var n=i(a("c7eb")),o=i(a("1da1")),s=i(a("ebfc")),r=a("1bcc"),d=function(){return[1,2,3,4,5,6,7,8,9,"",0,"delete"]},c={components:{uploadImg:s.default},data:function(){return{current:0,paytypes:[],paycode:"",paycodeInf:"",userdis:!0,activetab:0,tabs:[{name:"微信"},{name:"支付宝"},{name:"银行卡"}],addressInfo:"",keys:d(),password:[],items:[0,1,2,3,4,5],saveDbUrl:"",userphone:"",styles:{borderColor:"#fff"},remark:"",imgupstatus:"prepare",discount:"",totalmoney:""}},onLoad:function(e){this.orderInfo=JSON.parse(e.details),this.totalmoney=this.orderInfo.totalmoney,console.log(this.orderInfo),3==this.orderInfo.mode&&this.getdiscount(),this.getList()},onShow:function(){this.getList()},methods:{getImgUrl:function(e){this.saveDbUrl=e},radioChange:function(e){for(var t=0;t<this.paytypes.length;t++)if(this.paytypes[t].id===e.detail.value){this.current=t;break}},genOrderByaliPay:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a,i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={buynum:e.orderInfo.buynum,price:e.orderInfo.price,total:e.totalmoney,remark:e.remark,orderInfo:e.orderInfo,address_id:e.addressInfo.id},t.next=3,(0,r.genOrderByaliPay)({query:a,method:"post"});case 3:i=t.sent,200==i.code&&(uni.setStorageSync("alipay",i.data.html),uni.navigateTo({url:"/pages/payGateWay/payGateWay"}));case 5:case"end":return t.stop()}}),t)})))()},back:function(){uni.navigateBack({delta:1})},copyInf:function(e){uni.setClipboardData({data:e,success:function(){}})},switchChange:function(e){e.detail.value?this.totalmoney=this.orderInfo.totalmoney-this.discount:this.totalmoney=this.orderInfo.totalmoney},getdiscount:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.getdiscount)({method:"post",query:{totalmoney:e.orderInfo.totalmoney}});case 2:a=t.sent,200==a.code&&(e.discount=a.data.discount,e.totalmoney=e.orderInfo.totalmoney-e.discount);case 4:case"end":return t.stop()}}),t)})))()},tabclick:function(e){this.activetab=e,0==e&&(this.paycode=this.paycodeInf.wxcode),1==e&&(this.paycode=this.paycodeInf.alicode)},showpayInfo:function(){this.$refs.popup4payinfo.open()},addressclick:function(){this.addressInfo||this.addaddress()},getList:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.getAddress)({method:"post"});case 2:a=t.sent,200==a.code&&(e.paytypes=a.data.paytypes,e.addressInfo=a.data.addressInfo,e.paycodeInf=a.data.paycodeInf,e.paycode=e.paycodeInf.wxcode);case 4:case"end":return t.stop()}}),t)})))()},addaddress:function(){uni.navigateTo({url:"/pages/address/address"})},delHandle:function(){if(this.password.length<=0)return!1;this.password.pop()},checkpaypw3:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a,i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={userdis:e.userdis,discount:e.discount,pw:e.password,buynum:e.orderInfo.buynum,price:e.orderInfo.price,total:e.totalmoney,saveDbUrl:e.saveDbUrl,userphone:e.userphone,remark:e.remark,orderInfo:e.orderInfo,address_id:e.addressInfo.id},t.next=3,(0,r.checkpaypw3)({method:"post",query:a});case 3:i=t.sent,console.log(i),200==i.code?(e.$refs.popup4pw.close(),e.password=[],uni.showToast({title:"支付成功",icon:"success"}),setTimeout((function(){uni.switchTab({url:"/pages/user/user"})}),1e3)):(e.$refs.popup4pw.close(),e.password=[],uni.showToast({title:i.msg,icon:"error"}));case 6:case"end":return t.stop()}}),t)})))()},checkpaypw:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a,i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={pw:e.password,buynum:e.orderInfo.buynum,price:e.orderInfo.price,total:e.totalmoney,saveDbUrl:e.saveDbUrl,userphone:e.userphone,remark:e.remark,orderInfo:e.orderInfo,address_id:e.addressInfo.id},console.log(a),t.next=4,(0,r.checkpaypw)({method:"post",query:a});case 4:i=t.sent,console.log(i),200==i.code?(e.$refs.popup4pw.close(),e.password=[],uni.showToast({title:"支付成功",icon:"success"}),setTimeout((function(){uni.switchTab({url:"/pages/user/user"})}),1e3)):(e.$refs.popup4pw.close(),e.password=[],uni.showToast({title:i.msg,icon:"error"}));case 7:case"end":return t.stop()}}),t)})))()},keyUpHandle:function(e){var t=e;this.password.push(t);var a=this.password.length;console.log(this.password),(!t||a>=6)&&this.checkpaypw3()},submitorder:function(){this.addressInfo?(this.password=[],this.$refs.popup4pw.open()):uni.showToast({title:"请选择收货地址",icon:"error"})},clearphoto:function(){this.imgShowUrl=this.saveDbUrl="",this.imgupstatus="prepare"}}};t.default=c},ebfc:function(e,t,a){"use strict";a.r(t);var i=a("56dd"),n=a("c1fe");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("0f93");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"1fd6b89e",null,!1,i["a"],void 0);t["default"]=r.exports},f31d:function(e,t,a){"use strict";var i=a("3ee3"),n=a.n(i);n.a}}]);